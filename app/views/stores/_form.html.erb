<%= form_with(model: store, multipart: true) do |form| %>
  <% if store.errors.any? %>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-md mb-4">
      <h2 class="font-bold"><%= pluralize(store.errors.count, "error") %> prohibited this store from being saved:</h2>

      <ul>
        <% store.errors.full_messages.each do |error| %>
          <li><%= error %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="flex items-center mb-4">
    <div class="mr-4 logo">
      <% if store.image.present? %>
        <%= image_tag store.image_with_default, class: "w-24 h-24 rounded-md" %>
      <% else %>
        <%= image_tag "shop-default-256.png", class: "w-24 h-24 rounded-md" %>
      <% end %>
    </div>

    <div class="flex flex-col">
      <div class="mb-2">
        <%= form.label :name, class: "block font-bold mb-1" %>
        <%= form.text_field :name, class: "form-input" %>
      </div>
      <div class="mb-2">
        <%= form.check_box :hidden, class: "form-checkbox h-5 w-5" %>
        <%= form.label :hidden, "Hidden", class: "text-sm font-medium text-gray-700" %>
      </div>
    </div>
  </div>

  <% if current_user.admin? && @sellers.present? %>
    <div class="mb-4">
      <%= form.label :seller, class: "block font-bold mb-1" %>
      <%= form.collection_select :user_id, @sellers, :id, :email, prompt: "Select a Seller", class: "form-select" %>
    </div>
  <% end %>

  <div class="mb-4">
    <%= form.label :image, class: "block font-bold mb-1" %>
    <%= form.file_field :image, class: "form-input" %>
  </div>

  <div>
    <%= form.submit store.persisted? ? "Update Store" : "Create Store", class: "btn-form" %>
  </div>
<% end %>
