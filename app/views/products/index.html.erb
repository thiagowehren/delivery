 <% if notice %>
  <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded-md mb-4">
    <p><%= notice %></p>
  </div>
<% end %>

<% if alert %>
  <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded-md mb-4">
    <p><%= alert %></p>
  </div>
<% end %>

<div class="content-container mb-1">
  <%= turbo_stream_from "products" %>
  <h1>Products</h1>
  <% if current_user.admin? || current_user.eql?(@store.user)%>
    <p><%= link_to "New Product", new_store_product_path(@store) %></p>
  <% end %>
</div>
  
<div class="absolute left-0 right-0 content-container mt-4 mb-4">
  <%= paginate @products %>
</div>

<div class="relative mt-28">
  <% if @products.any? %>
  <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-3 gap-y-4">
      <% @products.each do |product| %>
        <div class="content-container mt-4" id="<%= dom_id(product) %>">
          <%= render partial: "products/product", locals: { product: product } %>
          <p><%= link_to "Show this product", store_product_path(@store, product) %></p> 
        </div>
      <% end %>
    </div>
  <% else %>
  <div class="content-container mt-4">
    <p>Empty</p>
  </div>
  <% end %>
</div>

<div class="absolute left-0 right-0 content-container mt-4 mb-4">
  <%= paginate @products %>
</div>